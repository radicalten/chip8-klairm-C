CC      := clang
TARGET  := $(notdir $(CURDIR))
BUILD   := build
SOURCE  := $(wildcard src/*.c)
OBJECT  := $(patsubst %.c,%.o,$(SOURCE))
INCLUDE := -I$(wildcard src/*.h)
MACHDEP := -DPLATFORM_MACOS

CFLAGS  := -g -Wall -O3 $(MACHDEP) $(INCLUDE)
LDFLAGS :=

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(CC) -o $@ $^

%.o:%.c
	$(CC) $(CFLAGS) -c -o $@ $^

clean:
	rm -rf $(TARGET) $(OBJECT)
